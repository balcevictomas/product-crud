{% extends 'base.html.twig' %}

{% block title %}Products{% endblock %}

{% block body %}

<div>
    <div class="border max-w-lg mx-auto mt-20 flex flex-col">
        <div class="flex justify-center">
            <p>Products</p>
        </div>
        {% if app.user %}
        <div>
            <div class="flex flex-col">
                {% if products %}
                    {% for product in products %}
                        <div class="flex flex-row">
                            <div class="w-1/3 justify-center flex items-center">{{ product.title }}</div>
                            <div class="w-1/3 justify-center flex items-center">{{ product.description }}</div>
                            <div class="w-1/3 justify-center flex items-center">{{ product.priceEur }} <span>&euro;</span></div>
                            <div class="flex gap-x-3">
                                <a class="bg-orange-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" href="product/edit/{{ product.id }}">Edit</a>
                                <a class="bg-red-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" href="product/delete/{{ product.id }}">Delete</a>
                        </div>
                        </div>
                    {% endfor %}
                {% else %}
                    <div>No products</div>
                {% endif %}
                <div class="flex justify-center">
                    <a class="bg-green-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" href="product/add/">Add</a>
                </div>
            </div>
        </div>
    </div>
    {% else %}
    <div class="flex justify-center items-center">
        You`are not authorized. Please login <a class="bg-green-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" href="login">Login</a>
    </div>
    {% endif %}
</div>
{% endblock %}